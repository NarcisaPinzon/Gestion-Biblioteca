<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
    <title>Registro de Usuario</title>
    <link rel="stylesheet" type="text/css" href="css/registro.css" />
</h:head>

<h:body>
    <div class="container">

        <!-- Barra lateral azul -->
        <div class="barra-lateral"></div>

        <!-- Formulario de registro -->
        <div class="login-section">
            <h:graphicImage url="images/UNL.png" styleClass="logo-unl" />
            <h2 class="titulo">REGISTRARSE</h2>

            <h:form styleClass="formulario">
                <!-- Sección del formulario -->
                <h:panelGroup rendered="#{!registroBean.registroExitoso}">
                    <div class="campo-grupo">
                        <div class="campo">
                            <label>Nombre</label>
                            <h:inputText value="#{registroBean.nombre}" styleClass="entrada" />
                        </div>
                        <div class="campo">
                            <label>Apellido</label>
                            <h:inputText value="#{registroBean.apellido}" styleClass="entrada" />
                        </div>
                    </div>

                    <div class="campo">
                        <label>Correo Electrónico</label>
                        <h:inputText id="correo" value="#{registroBean.correo}" styleClass="entrada" required="true">
                            <f:validateRegex pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.(com|edu\.ec)$"/>
                        </h:inputText>
                        <h:message for="correo" style="color:red"/>
                    </div>

                    <div class="campo">
                        <label>Usuario</label>
                        <h:inputText value="#{registroBean.usuario}" styleClass="entrada" />
                    </div>

                    <div class="campo">
                        <label>Contraseña</label>
                        <h:inputSecret id="contrasena" value="#{registroBean.contrasena}" styleClass="entrada" required="true">
                            <f:validateLength minimum="12" maximum="12"/>
                        </h:inputSecret>
                        <h:message for="contrasena" style="color:red"/>
                    </div>

                    <div class="boton-centrado">
                        <h:commandButton value="Crear Cuenta" action="#{registroBean.registrar}" styleClass="boton-verde" />
                    </div>
                </h:panelGroup>

                <!-- Mensaje de éxito y botón de iniciar sesión -->
                <h:panelGroup rendered="#{registroBean.registroExitoso}">
                    <div class="mensaje-exito">
                        Su usuario ha sido creado exitosamente 😊
                    </div>

                    <div class="boton-centrado">
                        <h:commandButton value="Iniciar sesión" action="login.xhtml?faces-redirect=true" styleClass="boton-verde" />
                    </div>
                </h:panelGroup>
            </h:form>
        </div>
    </div>
</h:body>
</html>
